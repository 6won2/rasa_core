

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Domains &mdash; Rasa Core 0.7.0a3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Rasa Core 0.7.0a3 documentation" href="index.html"/>
        <link rel="up" title="Library Reference" href="library.html"/>
        <link rel="next" title="Trackers" href="tracker.html"/>
        <link rel="prev" title="Events" href="events.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Rasa Core
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="read_first.html">Read this first</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation and Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="tour.html">A Quick Tour (no ML)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_scratch.html">A Bot From Scratch</a></li>
</ul>
<p class="caption"><span class="caption-text">More Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial_babi.html">Supervised Learning Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_fake_user.html">Interactive Learning with a Fake User</a></li>
</ul>
<p class="caption"><span class="caption-text">Deep Dives</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Common Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="slot_types.html">Slot Types Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="plumbing.html">Plumbing - How it all fits together</a></li>
<li class="toctree-l1"><a class="reference internal" href="connectors.html">Connecting to messaging &amp; voice platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="domains_actions.html">Domains and Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="state.html">Tracking Conversation State</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies.html">Creating Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="stories.html">Stories Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduling.html">Scheduling Reminders</a></li>
<li class="toctree-l1"><a class="reference internal" href="featurisation.html">Featurization</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpreters.html">Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="message_handling.html">Message Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="library.html">Library Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="library.html#conversation-components">Conversation Components:</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="library.html#core-base-classes">Core Base Classes:</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="tracker.html">Trackers</a></li>
<li class="toctree-l3"><a class="reference internal" href="policy.html">Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller.html">Controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="library.html#important-utilities">Important Utilities:</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rasa Core</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="library.html">Library Reference</a> &raquo;</li>
        
      <li>Domains</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/domain.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="domains">
<h1>Domains<a class="headerlink" href="#domains" title="Permalink to this headline">¶</a></h1>
<p>The <code class="docutils literal"><span class="pre">Domain</span></code> is one object you will absolutely have to subclass to build
an app with rasa DM.</p>
<span class="target" id="module-rasa_core.domain"></span><dl class="class">
<dt id="rasa_core.domain.Domain">
<em class="property">class </em><code class="descclassname">rasa_core.domain.</code><code class="descname">Domain</code><span class="sig-paren">(</span><em>topics=None</em>, <em>store_entities_as_slots=True</em>, <em>restart_intent=u'restart'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain" title="Permalink to this definition">¶</a></dt>
<dd><p>The domain specifies the universe in which the bot&#8217;s policy acts.</p>
<p>A Domain subclass provides the actions the bot can take, the intents
and entities it can recognise, and the topics it knows about.</p>
<dl class="method">
<dt id="rasa_core.domain.Domain.action_for_index">
<code class="descname">action_for_index</code><span class="sig-paren">(</span><em>index</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.action_for_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.action_for_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Integer index corresponding to an actions index in the action list.</p>
<p>This method resolves the index to the actions name.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.action_for_name">
<code class="descname">action_for_name</code><span class="sig-paren">(</span><em>action_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.action_for_name"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.action_for_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up which action corresponds to this action name.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.compare_with_specification">
<code class="descname">compare_with_specification</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.compare_with_specification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.compare_with_specification" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares the domain spec of the current and the loaded domain.</p>
<p>Throws exception if the loaded domain specification is different
to the current domain are different.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.feature_vector_for_tracker">
<code class="descname">feature_vector_for_tracker</code><span class="sig-paren">(</span><em>featurizer</em>, <em>tracker</em>, <em>max_history</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.feature_vector_for_tracker"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.feature_vector_for_tracker" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a 2D array of shape (max_history,num_features)</p>
<p>max_history specifies the number of previous steps to be included
in the input. Each row in the array corresponds to the binarised
features of each state. Result is padded with default values if
there are fewer than <cite>max_history</cite> states present.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.features_for_tracker_history">
<code class="descname">features_for_tracker_history</code><span class="sig-paren">(</span><em>tracker</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.features_for_tracker_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.features_for_tracker_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Array of features for each state of the trackers history.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.get_active_features">
<code class="descname">get_active_features</code><span class="sig-paren">(</span><em>tracker</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.get_active_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.get_active_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a bag of active features from the tracker state</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.get_prev_action_features">
<code class="descname">get_prev_action_features</code><span class="sig-paren">(</span><em>tracker</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.get_prev_action_features"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.get_prev_action_features" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns the previous taken action into a feature name.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.index_for_action">
<code class="descname">index_for_action</code><span class="sig-paren">(</span><em>action_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.index_for_action"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.index_for_action" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up which action index corresponds to this action name</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.index_of_feature">
<code class="descname">index_of_feature</code><span class="sig-paren">(</span><em>feature_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.index_of_feature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.index_of_feature" title="Permalink to this definition">¶</a></dt>
<dd><p>Provides the index of a feature.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.persist_specification">
<code class="descname">persist_specification</code><span class="sig-paren">(</span><em>model_path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.persist_specification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.persist_specification" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists the domain specification to storage.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.domain.Domain.slice_feature_history">
<code class="descname">slice_feature_history</code><span class="sig-paren">(</span><em>featurizer</em>, <em>tracker_history</em>, <em>slice_length</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/domain.html#Domain.slice_feature_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.domain.Domain.slice_feature_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Slices a featurization from the trackers history.</p>
<p>If the slice is at the array borders, padding will be added to ensure
he slice length.</p>
</dd></dl>

<dl class="attribute">
<dt id="rasa_core.domain.Domain.slots">
<code class="descname">slots</code><a class="headerlink" href="#rasa_core.domain.Domain.slots" title="Permalink to this definition">¶</a></dt>
<dd><p>Domain subclass must provide a list of slots</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tracker.html" class="btn btn-neutral float-right" title="Trackers" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="events.html" class="btn btn-neutral" title="Events" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rasa Technologies GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: 0.6.5
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="domain.html">0.6.5</a></dd>
            <dd><a href="../0.6.9/index.html">0.6.9</a></dd>
            <dd><a href="../0.7.0/index.html">0.7.0</a></dd>
            <dd><a href="../0.7.0a10/index.html">0.7.0a10</a></dd>
            <dd><a href="../0.7.0a5/index.html">0.7.0a5</a></dd>
            <dd><a href="../0.7.0a6/index.html">0.7.0a6</a></dd>
            <dd><a href="../0.7.0a7/index.html">0.7.0a7</a></dd>
            <dd><a href="../0.7.0a8/index.html">0.7.0a8</a></dd>
            <dd><a href="../0.7.0a9/index.html">0.7.0a9</a></dd>
            <dd><a href="../0.7.1/index.html">0.7.1</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../master/index.html">master</a></dd>
            <dd><a href="../wildcard/domain.html">wildcard</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7.0a3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>